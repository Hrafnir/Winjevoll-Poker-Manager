<!DOCTYPE html>
<html lang="no">
<head>
    <!-- === 01: HEAD SECTION START === -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Turnering - Winjevoll</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- === 01: HEAD SECTION END === -->
</head>
<body>
        <!-- === 03: MAIN CONTENT SECTION START === -->
    <main class="tournament-live">
        <div id="live-canvas">
            <div id="title-element" class="draggable-element" data-element-id="title"> <h1 id="tournament-name-display" class="main-tournament-title">Laster...</h1> </div>
            <div id="timer-element" class="draggable-element" data-element-id="timer"> <div class="timer-section"> <h2>Tid Igjen</h2> <div id="timer-display">--:--</div> <div id="break-info" class="hidden">PAUSE</div> </div> </div>
            <div id="blinds-element" class="draggable-element" data-element-id="blinds"> <div class="blinds-section"> <h3>Blinds <span id="current-level"></span></h3> <div id="blinds-display"> <span class="value">--</span>/<span class="value">--</span><span class="label">A:</span><span class="value">--</span> </div> </div> </div>
            <div id="logo-element" class="draggable-element" data-element-id="logo"> <div class="logo-area"> <img src="placeholder-logo.png" alt="Turnering Logo" class="logo"> </div> </div>
            <div id="info-element" class="draggable-element info-box" data-element-id="info"> <p id="info-next-blinds">Neste: <span id="next-blinds">--</span></p> <p id="info-next-pause" class="hidden">Neste Pause: <span id="next-pause-time">--</span></p> <p id="info-avg-stack">Average Stack: <span id="average-stack">--</span></p> <p id="info-players">Spillere: <span id="players-remaining">--</span> (<span id="total-entries">--</span>)</p> <p id="info-late-reg">Late Reg: <span id="late-reg-status">--</span></p> </div>
        </div>
        <div class="sub-canvas-controls header-right-controls"> <p>Klokke: <span id="current-time">--:--:--</span></p> <button id="btn-toggle-sound" title="Sl친 lyd av/p친" class="small-button">游댉 Lyd P친</button> <button id="btn-edit-tournament-settings" title="Rediger Turneringsregler (Blinds, Premier)" class="small-button">游닆 Regler</button> <button id="btn-edit-ui-settings" title="Rediger Utseende (Layout, Farger, Logo, Lyd)" class="small-button">游꿛 Utseende</button> <button id="btn-back-to-main-live" title="Tilbake til Start" class="small-button"> Hjem</button> </div>
        <div id="prize-display-live" class="live-info-prizes hidden"> <h3>Premiefordeling (Totalpott: <span id="total-pot">--</span> kr)</h3> <p>Laster...</p> </div>
        <div class="controls">
             <button id="btn-start-pause">Start Klokke</button>
             <button id="btn-prev-level"><< Niv친</button>
             <button id="btn-next-level">Niv친 >></button>
             <button id="btn-adjust-time-minus">-1 min</button>
             <button id="btn-adjust-time-plus">+1 min</button>
             <button id="btn-late-reg" disabled>Late Reg</button>
             <!-- NY KNAPP for Add-on -->
             <button id="btn-manage-addons" class="info-button hidden">Administrer Add-ons</button>
        </div>
        <div class="player-management"> <div class="player-column"> <h2>Aktive (<span id="active-player-count">--</span>)</h2> <p id="table-balance-info" class="warning hidden">Ubalanserte bord!</p> <ul id="player-list" class="item-list player-list-live"><li>Laster...</li></ul> </div> <div class="player-column"> <h2>Eliminerte (<span id="eliminated-player-count">--</span>)</h2> <ul id="eliminated-player-list" class="item-list player-list-live"></ul> </div> </div>
        <div id="activity-log-container"> <h3>Aktivitetslogg</h3> <ul id="activity-log-list"><li>Loggen starter...</li></ul> </div>
    </main>
    <!-- === 03: MAIN CONTENT SECTION END === -->

    <!-- === 04: FOOTER SECTION START === -->
    <footer> <p>춸 2024 Winjevoll Pokerklubb</p> <div> <button id="btn-force-save" class="small-button">Lagre N친</button> <button id="btn-end-tournament" class="danger-button">Fullf칮r Turnering</button> </div> </footer>
    <!-- === 04: FOOTER SECTION END === -->

    <!-- === 05a: MODAL FOR TOURNAMENT SETTINGS START === -->
    <div id="tournament-settings-modal" class="modal hidden"> <!-- ... (som f칮r) ... --> </div>
    <!-- === 05a: MODAL FOR TOURNAMENT SETTINGS END === -->

    <!-- === 05b: MODAL FOR UI SETTINGS START === -->
    <div id="ui-settings-modal" class="modal hidden"> <!-- ... (som f칮r, inkludert logo-opplasting) ... --> </div>
    <!-- === 05b: MODAL FOR UI SETTINGS END === -->

    <!-- === 05c: NY MODAL FOR ADD-ONS START === -->
    <div id="addon-modal" class="modal hidden">
        <div class="modal-content" style="max-width: 500px;"> <!-- Litt smalere modal -->
            <span class="close-button" id="close-addon-modal-button" title="Lukk">칑</span>
            <h2>Administrer Add-ons</h2>
            <p>Velg spillere som skal ha Add-on. Kun spillere uten add-on kan velges.</p>
            <div id="addon-player-list-container" style="max-height: 60vh; overflow-y: auto; border: 1px solid #eee; margin-bottom: 15px; padding: 10px;">
                 <ul id="addon-player-list" class="item-list" style="max-height: none; border-top: none; margin: 0;">
                     <!-- Spillerliste genereres av JS -->
                     <li>Laster spillere...</li>
                 </ul>
            </div>
            <div class="modal-actions">
                <button id="btn-confirm-addons" class="success-button">Bekreft Add-ons</button>
                <button id="btn-cancel-addons" type="button">Avbryt</button>
            </div>
        </div>
    </div>
    <!-- === 05c: NY MODAL FOR ADD-ONS END === -->

    <!-- === 05d: NY MODAL FOR EDIT PLAYER START === -->
    <div id="edit-player-modal" class="modal hidden">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close-button" id="close-edit-player-modal-button" title="Lukk">칑</span>
            <h2>Rediger Spillerdetaljer</h2>
            <input type="hidden" id="edit-player-id-input"> <!-- For 친 lagre ID -->
            <div id="edit-player-details-section">
                <p><strong>Spiller:</strong> <span id="edit-player-name-display"></span></p>
                <p><small>(Navn, Rebuys og Add-on kan justeres nedenfor)</small></p>
                <hr>
                 <label for="edit-player-name-input">Navn:</label>
                 <input type="text" id="edit-player-name-input" required>

                 <label for="edit-player-rebuys-input">Antall Rebuys:</label>
                 <input type="number" id="edit-player-rebuys-input" min="0" step="1" style="max-width: 100px;">

                 <label style="display: inline-block; margin-right: 10px;">
                     <input type="checkbox" id="edit-player-addon-checkbox">
                     Har Add-on
                 </label>
                 <p><small>Advarsel: Manuell endring av rebuys/add-on vil justere total pott og tellere.</small></p>
            </div>
            <div class="modal-actions">
                <button id="btn-save-player-changes" class="success-button">Lagre Endringer</button>
                <button id="btn-cancel-player-edit" type="button">Avbryt</button>
            </div>
        </div>
    </div>
    <!-- === 05d: NY MODAL FOR EDIT PLAYER END === -->

    <!-- === 06: SCRIPTS SECTION START === -->
    <script src="js/storage.js"></script>
    <script type="module" src="js/tournament-main.js"></script>
    <!-- === 06: SCRIPTS SECTION END === -->
</body>
</html>
