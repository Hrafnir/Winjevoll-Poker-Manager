<!DOCTYPE html>
<html lang="no">
<head>
    <!-- === 01: HEAD SECTION START === -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Turnering - Winjevoll</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- === 01: HEAD SECTION END === -->
</head>
<body>
    <!-- === 02: HEADER (BANNER) SECTION START === -->
    <header class="tournament-header banner">
        <h1 id="tournament-name-display">Laster turnering...</h1>
         <div class="header-right">
             <p>Klokke: <span id="current-time">--:--:--</span></p>
             <button id="btn-edit-settings" title="Rediger Turneringsinnstillinger" class="small-button">⚙️ Innst.</button>
             <button id="btn-back-to-main-live" title="Tilbake til Startside (Lagrer status)" class="small-button"> Hjem</button>
        </div>
    </header>
    <!-- === 02: HEADER (BANNER) SECTION END === -->

    <!-- === 03: MAIN CONTENT SECTION START === -->
    <main class="tournament-live">

        <!-- === 03a: LIVE VIEW MAIN SPLIT CONTAINER START === -->
        <div class="live-split-container">

            <!-- === 03a-LEFT: TIMER COLUMN START === -->
            <div class="live-left-column">
                <div class="timer-section">
                    <h2>Tid Igjen</h2>
                    <div id="timer-display">--:--</div>
                    <div id="break-info" class="hidden">PAUSE</div>
                </div>
            </div>
            <!-- === 03a-LEFT: TIMER COLUMN END === -->

            <!-- === 03a-RIGHT: INFO COLUMN START === -->
            <div class="live-right-column">
                <div class="right-col-logo-area">
                    <img src="placeholder-logo.png" alt="Winjevoll Pokerklubb Logo" class="logo">
                </div>
                <div class="right-col-blinds-area">
                    <h3>Blinds</h3>
                    <div id="blinds-display">
                         <!-- Blinds HTML generated by JS -->
                         <span class="value">--</span> / <span class="value">--</span> <span class="label">Ante:</span> <span class="value">--</span>
                    </div>
                </div>
                <div class="right-col-info-area">
                    <!-- Info elements moved here -->
                    <p>Neste: <span id="next-blinds">--</span></p>
                    <p>Snitt Stack: <span id="average-stack">--</span></p>
                    <p>Total Pott: <span id="total-pot">--</span> kr</p>
                    <!-- Prize summary could go here, or link to details below -->
                     <p>Premier: <span id="prize-summary">Beregner...</span></p>
                </div>
            </div>
            <!-- === 03a-RIGHT: INFO COLUMN END === -->

        </div>
        <!-- === 03a: LIVE VIEW MAIN SPLIT CONTAINER END === -->

        <!-- === 03b: LIVE INFO SECONDARY (Counts, Late Reg) SECTION START === -->
        <div class="live-info-secondary">
             <p>Spillere Igjen: <span id="players-remaining">--</span></p>
             <p>Total Entries: <span id="total-entries">--</span></p>
             <p id="late-reg-status">Late Reg: --</p>
             <!-- Removed players started, using entries -->
        </div>
        <!-- === 03b: LIVE INFO SECONDARY SECTION END === -->

        <!-- === 03c: LIVE PRIZE DISPLAY (Detailed) SECTION START === -->
        <div id="prize-display-live" class="live-info-prizes">
            <h3>Premiefordeling (Estimat)</h3>
            <p>Beregner...</p>
        </div>
        <!-- === 03c: LIVE PRIZE DISPLAY SECTION END === -->

        <!-- === 03d: CONTROLS SECTION START === -->
        <div class="controls">
            <button id="btn-start-pause">Start Klokke</button>
            <button id="btn-prev-level"><< Forrige Nivå</button>
            <button id="btn-next-level">Neste Nivå >></button>
            <button id="btn-adjust-time-minus">-1 min</button>
            <button id="btn-adjust-time-plus">+1 min</button>
            <button id="btn-late-reg" disabled>Registrer Late Reg</button> <!-- Late Reg button -->
        </div>
         <!-- === 03d: CONTROLS SECTION END === -->

         <!-- === 03e: PLAYER MANAGEMENT SECTION START === -->
         <div class="player-management">
            <!-- Active Players Column -->
            <div class="player-column">
                <h2>Aktive Spillere (<span id="active-player-count">--</span>)</h2>
                <p id="table-balance-info" class="warning hidden">Ubalanserte bord!</p>
                <ul id="player-list" class="item-list player-list-live">
                    <li>Laster spillere...</li>
                </ul>
                 <!-- Removed generic Add Player section -->
            </div>
            <!-- Eliminated Players Column -->
            <div class="player-column">
                <h2>Eliminerte Spillere (<span id="eliminated-player-count">--</span>)</h2>
                <ul id="eliminated-player-list" class="item-list player-list-live">
                    <!-- Eliminerte listes opp her -->
                </ul>
            </div>
        </div>
        <!-- === 03e: PLAYER MANAGEMENT SECTION END === -->

    </main>
     <!-- === 03: MAIN CONTENT SECTION END === -->

    <!-- === 04: FOOTER SECTION START === -->
    <footer>
        <p>© 2024 Winjevoll Pokerklubb</p>
        <div> <!-- Group buttons -->
            <button id="btn-force-save" class="small-button">Lagre Nå</button>
            <button id="btn-end-tournament" class="danger-button">Fullfør Turnering</button>
        </div>
    </footer>
    <!-- === 04: FOOTER SECTION END === -->

    <!-- === 05: MODAL FOR EDITING SETTINGS START === -->
    <div id="edit-settings-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-button" id="close-modal-button" title="Lukk">×</span>
            <h2>Rediger Turneringsinnstillinger</h2>
            <p class="warning">Advarsel: Endring av innstillinger underveis kan ha utilsiktede konsekvenser!</p>
            <div id="edit-blinds-section">
                <h3>Rediger Fremtidige Blindnivåer/Pauser</h3>
                <p><small>(Endringer påvirker kun nivåer som ikke har startet ennå.)</small></p>
                 <div class="blind-table-container">
                    <table id="edit-blind-structure-table">
                         <thead><tr><th>Nivå</th><th>SB</th><th>BB</th><th>Ante</th><th>Varighet</th><th>Pause Etterpå (min)</th><th></th></tr></thead>
                         <tbody id="edit-blind-structure-body"></tbody>
                    </table>
                </div>
                 <button type="button" id="btn-add-edit-level">Legg til Nivå på Slutten</button>
            </div>
            <div id="edit-prizes-section">
                 <h3>Rediger Premiefordeling</h3>
                 <label for="edit-paid-places">Antall Betalte Plasseringer:</label>
                 <input type="number" id="edit-paid-places" min="1">
                 <label for="edit-prize-distribution">Ny Fordeling (%):</label>
                 <textarea id="edit-prize-distribution" rows="2"></textarea>
                 <button type="button" id="btn-generate-edit-payout">Generer Standard</button>
            </div>
             <div class="modal-actions">
                  <button id="btn-save-edited-settings" class="success-button">Lagre Endringer</button>
                  <button id="btn-cancel-edit-settings" type="button">Avbryt</button>
             </div>
        </div>
    </div>
    <!-- === 05: MODAL FOR EDITING SETTINGS END === -->

    <!-- === 06: SCRIPTS SECTION START === -->
    <script src="js/storage.js"></script>
    <script src="js/tournament.js"></script>
     <!-- === 06: SCRIPTS SECTION END === -->
</body>
</html>
